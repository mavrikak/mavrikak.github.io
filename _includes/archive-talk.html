{% include base_path %}

{% assign title = include.talk.title | markdownify | remove: "<p>" | remove: "</p>" %}

<div class="{{ include.type | default: "list" }}__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/Event">

    <h2 class="archive__item-title" itemprop="name">
      {% if include.talk.link %}
        <a href="{{ include.talk.link }}">{{ title }}</a>
      {% else %}
        {{ title }}
      {% endif %}
    </h2>

    {% if include.talk.venue or include.talk.location or include.talk.date %}
      <p class="page__date">
        <strong>Venue:</strong>
        {% if include.talk.venue %}{{ include.talk.venue }}{% endif %}
        {% if include.talk.location %}, {{ include.talk.location }}{% endif %}
        {% if include.talk.date %} â€” <time datetime="{{ include.talk.date | date_to_xmlschema }}">{{ include.talk.date | date: "%B %Y" }}</time>{% endif %}
      </p>
    {% endif %}

    {% if include.talk.excerpt %}
      <p class="archive__item-excerpt" itemprop="description">{{ include.talk.excerpt | markdownify }}</p>
    {% endif %}

    {% if include.talk.slidesurl or include.talk.talkurl %}
      <p>
        {% if include.talk.slidesurl %}<a href="{{ include.talk.slidesurl }}">Slides</a>{% endif %}
        {% if include.talk.slidesurl and include.talk.talkurl %} | {% endif %}
        {% if include.talk.talkurl %}<a href="{{ include.talk.talkurl }}">Abstract</a>{% endif %}
      </p>
    {% endif %}

    {% if include.talk.slidesurl or include.talk.posterurl %}
      <p>
        {% if include.talk.slidesurl %}<a href="{{ include.talk.slidesurl }}">Slides</a>{% endif %}
        {% if include.talk.slidesurl and include.talk.posterurl %} | {% endif %}
        {% if include.talk.posterurl %}<a href="{{ include.talk.posterurl }}">Poster</a>{% endif %}
      </p>
    {% endif %}

  </article>
</div>
